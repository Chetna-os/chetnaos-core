<!DOCTYPE html>
<html>
<head>
  <title>ChetnaOS Demo</title>
  <style>
    body { font-family: Arial; padding: 20px; max-width: 800px; margin: 0 auto; }
    textarea { width: 100%; height: 100px; padding: 10px; font-size: 14px; }
    button { padding: 12px 24px; margin-top: 10px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 4px; }
    button:hover { background: #45a049; }
    pre { background: #f4f4f4; padding: 15px; border-radius: 4px; overflow-x: auto; }
    h2 { color: #333; }
    .loading { opacity: 0.5; }
  </style>
</head>
<body>

<h2>ChetnaOS â€” Cognitive Runtime</h2>

<textarea id="input" placeholder="Enter your goal or request..."></textarea>
<br/>
<button id="submitBtn" onclick="run()">Process</button>

<h3>Response</h3>
<pre id="output">Waiting for input...</pre>

<script>
async function run() {
  const input = document.getElementById("input").value;
  const outputEl = document.getElementById("output");
  const btn = document.getElementById("submitBtn");
  
  if (!input.trim()) {
    outputEl.innerText = "Please enter a request.";
    return;
  }
  
  btn.disabled = true;
  btn.innerText = "Processing...";
  outputEl.innerText = "Processing...";
  
  try {
    const res = await fetch("/process", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({input})
    });
    const data = await res.json();
    outputEl.innerText = JSON.stringify(data, null, 2);
  } catch (err) {
    outputEl.innerText = "Error: " + err.message;
  } finally {
    btn.disabled = false;
    btn.innerText = "Process";
  }
}
</script>

</body>
</html>
